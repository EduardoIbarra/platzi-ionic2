<ion-header>

  <ion-navbar color="secondary">
    <ion-title>Registro de Visita</ion-title>
  </ion-navbar>

</ion-header>


<ion-content>

  <ion-list>
    <div padding>
      <button ion-button full (click)="scanQR()" color="primary">Escannear</button>
    </div>

    <div *ngIf="visit?.street" class="center">
      <h2 *ngIf="visit?.visited && !visit?.path?.includes('frequent_visits')">[ESTA VISITA HAB√çA INGRESADO PREVIAMENTE]</h2>
      <h2 *ngIf="visit?.path?.includes('frequent_visits')">[VISITANTE FRECUENTE]</h2>
      <h2 *ngIf="this.visit?.moroso" style="color: darkred">
        El residente cuenta con adeudo
      </h2>
      <h2>{{visit?.visitor_name}} -> {{visit?.visited_name}} @{{visit?.street?.name}} {{visit?.street_number}}</h2>
      <h4>{{visit?.date | date}}</h4>
    </div>

    <div *ngIf="visit?.street" padding>
      <ion-item>
        <ion-label fixed>Marbete</ion-label>
        <ion-input type="text" [(ngModel)]="visit.marbete"></ion-input>
      </ion-item>
      <button [disabled]="visit?.visited && !visit?.path?.includes('frequent_visits')" ion-button full (click)="confirmVisit()" color="secondary">Validar Visita</button>
    </div>
  </ion-list>
</ion-content>
